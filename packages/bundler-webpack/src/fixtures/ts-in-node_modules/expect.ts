import * as path from 'path';
import { IExpectOpts } from '../types';

export default ({ indexJS, ignored }: IExpectOpts) => {
  expect(indexJS).toContain(`var foo = 'foo';`);
  expect(indexJS).toContain(`___default.a.createElement("h1"`);
  expect(indexJS).toContain(`"Bar");`);
  expect(ignored?.test(path.join(__dirname, 'dist', 'index.js'))).toBeTruthy();
  expect(ignored?.test(path.join(__dirname, 'dist'))).toBeFalsy();
  expect(ignored?.test(path.join(__dirname, 'node_modules'))).toBeTruthy();
}
