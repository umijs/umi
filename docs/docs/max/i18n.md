import { Message } from 'umi';

# å›½é™…åŒ–

`@umi/max` å†…ç½®äº†**å›½é™…åŒ–**æ’ä»¶ [`@umijs/plugin-locale`](https://github.com/umijs/umi-next/blob/master/packages/plugins/src/locale.ts)ï¼Œå®ƒå¯ä»¥è½»æ¾åœ°å°†å›½é™…åŒ–åŠŸèƒ½é›†æˆåˆ°ä½ çš„ Umi åº”ç”¨ç¨‹åºä¹‹ä¸­ã€‚

## å¼€å§‹ä½¿ç”¨

å›½é™…åŒ–æ’ä»¶é‡‡ç”¨çº¦å®šå¼ç›®å½•ç»“æ„ï¼Œæˆ‘ä»¬çº¦å®šåœ¨ `src/locales` ç›®å½•ä¸‹å¼•å…¥å¤šè¯­è¨€æ–‡ä»¶ã€‚

<Message emoji="ğŸ’¡">
å¦‚æœ Umi é¡¹ç›®é…ç½®äº† `singular: true`ï¼Œåˆ™åº”å½“ä½¿ç”¨ `src/locale` ä½œä¸ºå­˜æ”¾å¤šè¯­è¨€æ–‡ä»¶çš„ç›®å½•ã€‚
</Message>

å¤šè¯­è¨€æ–‡ä»¶çš„å‘½åéœ€éµå¾ªæ­¤è§„èŒƒï¼š`<lang><separator><COUNTRY>.(js|json|ts)`ã€‚å…¶ä¸­ï¼Œ`<separator>` ä¸ºåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸º `-`ï¼Œå¯ä»¥é€šè¿‡ `baseSeparator` é¡¹é…ç½®ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨éœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥ç®€ä½“ä¸­æ–‡å’Œè‹±æ–‡çš„å¤šè¯­è¨€æ”¯æŒï¼Œå¯ä»¥åœ¨ `src/locales` ç›®å½•ä¸‹åˆ›å»º `zh-CN.ts` å’Œ `en-US.ts` ä¸¤ä¸ªæ–‡ä»¶ï¼š

```diff
src
  + locales
    + zh-CN.ts
    + en-US.ts
  pages
```

åœ¨ `config/config.ts` ä¸­é…ç½®å›½é™…åŒ–æ’ä»¶ï¼š

```ts
export default {
  locale: {
    // é»˜è®¤ä½¿ç”¨ src/locales/zh-CN.ts ä½œä¸ºå¤šè¯­è¨€æ–‡ä»¶
    default: 'zh-CN',
    baseSeparator: '-',
  },
};
```

å…³äºé…ç½®çš„æ›´å¤šä»‹ç»å¯å‚è§[é…ç½®æ’ä»¶](#é…ç½®æ’ä»¶)ç« èŠ‚ã€‚

ç°åœ¨ï¼Œæ·»åŠ æ‚¨çš„ç¬¬ä¸€æ¡å¤šè¯­è¨€å†…å®¹ï¼š

```ts
// src/locales/zh-CN.ts
export default {
  welcome: 'æ¬¢è¿å…‰ä¸´ Umi çš„ä¸–ç•Œï¼',
};
```

```ts
// src/locales/en-US.ts
export default {
  welcome: "Welcome to Umi's world!",
};
```

æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ `.json` æ–‡ä»¶æ¥å­˜æ”¾å¤šè¯­è¨€çš„å†…å®¹ï¼š

```json
// src/locales/zh-CN.json
{
  "welcome": "æ¬¢è¿å…‰ä¸´ Umi çš„ä¸–ç•Œï¼",
}

// src/locales/en-US.json
{
  "welcome": "Welcome to Umi's world!",
}
```

ä¸€åˆ‡å°±ç»ªï¼Œç°åœ¨æ‚¨å¯ä»¥åœ¨ Umi ä¸­ä½¿ç”¨å¤šè¯­è¨€å†…å®¹ã€‚äº¤ç»™æˆ‘ä»¬çš„ `<FormattedMessage />` ç»„ä»¶å§ï¼Œåªéœ€è¦å°†å‰é¢çš„ `welcome` ä½œä¸ºå‚æ•° `id` çš„å€¼ä¼ å…¥å³å¯ï¼š

```tsx
import { FormattedMessage } from 'umi';

export default () => {
  return (
    <div>
      <FormattedMessage id="welcome" />
    </div>
  );
};
```

æ¸²æŸ“çš„ç»“æœå¦‚ä¸‹ï¼š

```html
<!-- zh-CN -->
<div>æ¬¢è¿å…‰ä¸´ Umi çš„ä¸–ç•Œï¼</div>

<!-- en-US -->
<div>Welcome to Umi's world!</div>
```

## åœ¨ç»„ä»¶çš„å‚æ•°ä¸­ä½¿ç”¨

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦å°†å¤šè¯­è¨€å†…å®¹ä½œä¸ºå‚æ•°ä¼ é€’ç»™æŸä¸ªç»„ä»¶ã€‚å¯ä»¥é€šè¿‡ `intl` å¯¹è±¡æ¥å®ç°ï¼š

```tsx
import { Alert } from 'antd';
import { useIntl } from 'umi';

export default () => {
  const intl = useIntl();
  const msg = intl.formatMessage({
    id: 'welcome',
  });

  return <Alert message={msg} type="success" />;
};
```

åœ¨åº•å±‚ï¼Œå›½é™…åŒ–æ’ä»¶åŸºäº [`react-intl`](https://github.com/formatjs/formatjs/tree/main/packages/react-intl) å°è£…ï¼Œå¹¶æ”¯æŒå®ƒçš„æ‰€æœ‰æ¥å£ï¼Œè¯¦æƒ…å¯è§[æ­¤æ–‡æ¡£](https://github.com/formatjs/formatjs/blob/main/website/docs/react-intl/api.md)ã€‚

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°±è¿ç”¨åˆ°äº† `react-intl` æä¾›çš„ `useIntl()` æ¥å£æ¥åˆå§‹åŒ– `intl` å¯¹è±¡ï¼Œå¹¶è°ƒç”¨æ­¤å¯¹è±¡çš„ [`formatMessage()`](https://github.com/formatjs/formatjs/blob/main/website/docs/react-intl/api.md#formatmessage) æ–¹æ³•æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚

## æ ¼å¼åŒ–å­—ç¬¦ä¸²

æ‚¨å¯èƒ½æƒ³è¦åœ¨å¤šè¯­è¨€ç¿»è¯‘ä¸­åŠ¨æ€æ’å€¼ï¼Œé‚£ä¹ˆå¯ä»¥åƒè¿™æ ·ç¼–å†™å¤šè¯­è¨€å†…å®¹ï¼š

```ts
// src/locales/zh-CN.ts
export default {
  user: {
    welcome: '{name}ï¼Œä»Šå¤©ä¹Ÿæ˜¯ç¾å¥½çš„ä¸€å¤©ï¼',
  },
};
```

```ts
// src/locales/en-US.ts
export default {
  user: {
    welcome: '{name}, what a nice day!',
  },
};
```

åœ¨ä¸Šé¢ï¼Œæˆ‘ä»¬ç¼–å†™äº†ç‰¹æ®Šçš„è¯­æ³• `{name}`ï¼Œè¿™å…è®¸æˆ‘ä»¬åœ¨è¿è¡Œæ—¶åŠ¨æ€èµ‹å€¼ï¼š

```tsx
import { FormattedMessage } from 'umi';

export default () => {
  return (
    <p>
      <FormattedMessage id="user.welcome" values=({ name: 'å¼ ä¸‰' }) />
    </p>
  );
};
```

å¦‚æœæ‚¨å¸Œæœ›é€šè¿‡ `intl` å¯¹è±¡æ¥å®ç°ï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·å¯¹å®ƒèµ‹å€¼ï¼š

```tsx
import { useIntl } from 'umi';

export default () => {
  const intl = useIntl();
  const msg = intl.formatMessage(
    {
      id: 'user.welcome',
    },
    {
      name: 'å¼ ä¸‰',
    },
  );

  return <p>{msg}</p>;
};
```

æ³¨æ„ï¼Œç”¨äºèµ‹å€¼çš„é”®å€¼å¯¹å¯¹è±¡åº”å½“ä½œä¸º `formatMessage()` æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ã€‚

æ¸²æŸ“çš„ç»“æœå¦‚ä¸‹ï¼š

```html
<!-- zh-CN -->
<p>å¼ ä¸‰ï¼Œä»Šå¤©ä¹Ÿæ˜¯ç¾å¥½çš„ä¸€å¤©ï¼</p>

<!-- en-US -->
<p>å¼ ä¸‰, what a nice day!</p>
```

## åˆ‡æ¢è¯­è¨€

é€šè¿‡é¢„è®¾çš„ `<SelectLang />` ç»„ä»¶å¯ä»¥å¸®åŠ©æ‚¨å¿«é€Ÿåœ°å‘é¡¹ç›®ä¸­æ·»åŠ åˆ‡æ¢è¯­è¨€çš„åŠŸèƒ½ï¼Œåªéœ€è¦åƒè¿™æ ·ç¼–å†™ï¼š

```tsx
import { SelectLang } from 'umi';

export default () => {
  return <SelectLang />;
};
```

æ›´å¤šæƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½éœ€è¦è‡ªå·±ç¼–å†™åˆ‡æ¢è¯­è¨€çš„ç»„ä»¶ã€‚è¿™æ—¶å°±è½®åˆ° `setLocale()` æ¥å£å¤§æ˜¾èº«æ‰‹äº†ï¼š

```ts
import { setLocale } from 'umi';

// åˆ‡æ¢æ—¶åˆ·æ–°é¡µé¢
setLocale('en-US');
```

ä½¿ç”¨è¯¥æ–¹æ³•åˆ‡æ¢è¯­è¨€æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šåˆ·æ–°å½“å‰çš„é¡µé¢ã€‚æ‚¨å¯ä»¥è®¾ç½®å®ƒçš„ç¬¬äºŒä¸ªå‚æ•°ä¸º `false` æ¥å®ç°æ— åˆ·æ–°åˆ‡æ¢è¯­è¨€ï¼š

```ts
// åˆ‡æ¢æ—¶ä¸åˆ·æ–°é¡µé¢
setLocale('en-US', false);
```

å¦‚æœéœ€è¦åˆ‡æ¢ä¸ºé»˜è®¤çš„è¯­è¨€ï¼Œåªéœ€è¦è°ƒç”¨æ­¤æ–¹æ³•è€Œä¸ç”¨ä¼ é€’ä»»ä½•å‚æ•°ï¼š

```ts
// å¦‚æœæ‚¨çš„é»˜è®¤è¯­è¨€ä¸º zh-CN
// é‚£ä¹ˆä»¥ä¸‹è°ƒç”¨å…·æœ‰ä¸ setLocale('zh-CN') åŒæ ·çš„æ•ˆæœ
setLocale();
```

## å¤šè¯­è¨€é»˜è®¤å€¼

ä¸ºäº†é¡µé¢çš„ä¸€è‡´æ€§ï¼Œå½“ Umi æ²¡æœ‰åœ¨å½“å‰çš„å¤šè¯­è¨€æ–‡ä»¶ä¸­æ‰¾åˆ° `id` å¯¹åº”çš„å†…å®¹æ—¶ï¼Œå®ƒä¼šç›´æ¥å°† `id` æ¸²æŸ“ä¸ºé¡µé¢ä¸Šçš„å†…å®¹ã€‚

ä¾‹å¦‚ï¼Œç¼–å†™äº†å¦‚ä¸‹å¤šè¯­è¨€æ–‡ä»¶ï¼š

```ts
// src/locales/zh-CN.ts
export default {
  table: {
    submit: 'æäº¤è¡¨å•',
  },
};
```

```ts
// src/locales/en-US.ts
export default {
  // table: {
  //   submit: 'SUBMIT TABLE',
  // },
};
```

æœ‰å¦‚ä¸‹ç»„ä»¶ï¼š

```tsx
import { Button } from 'antd';
import { FormattedMessage } from 'umi';

export default () => {
  return (
    <Button type="primary">
      <FormattedMessage id="table.submit" />
    </Button>
  );
};
```

æ¸²æŸ“çš„ç»“æœä¸ºï¼š

```html
<!-- zh-CN -->
<button type="primary">æäº¤è¡¨å•</button>

<!-- en-US -->
<button type="primary">table.submit</button>
```

ç‰¹åˆ«çš„ï¼Œå¦‚æœæ‚¨éœ€è¦åœ¨æ²¡æœ‰å®Œæˆå›½é™…åŒ–é€‚é…çš„æƒ…å†µä¸‹ï¼Œç»™å‡ºä¸€ä¸ªé»˜è®¤çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨ `defaultMessage` å‚æ•°ï¼š

```tsx
import { Button } from 'antd';
import { FormattedMessage } from 'umi';

export default () => {
  return (
    <Button type="primary">
      <FormattedMessage id="table.submit" defaultMessage="SUBMIT TABLE" />
    </Button>
  );
};
```

ä½¿ç”¨ `formatMessage()` æ–¹æ³•æ—¶ï¼Œä¹Ÿå¯ä»¥è¿™ä¹ˆåšï¼š

```tsx
import { Button } from 'antd';
import { useIntl } from 'umi';

export default () => {
  const intl = useIntl();
  const msg = intl.formatMessage({
    id: 'table.submit',
    defaultMessage: 'SUBMIT TABLE',
  });

  return <Button type="primary">{msg}</Button>;
};
```

ä¸æ¨èä½¿ç”¨ `defaultMessage` é…ç½®é»˜è®¤å€¼ï¼Œå› ä¸ºè¿™ä¼šç¼–å†™å¤§é‡é‡å¤çš„å›½é™…åŒ–å†…å®¹ã€‚æœ€å¥½çš„æƒ…å†µæ˜¯ï¼Œåœ¨æ‚¨è¿›è¡Œå›½é™…åŒ–é€‚é…æ—¶ï¼Œç¡®ä¿äº†æ¯ä¸ªå¤šè¯­è¨€æ–‡ä»¶ä¸­éƒ½åŒ…å«æ‰€æœ‰ç”¨åˆ°çš„é”®ã€‚

## å¸¸ç”¨æ¥å£ä»‹ç»

### `addLocale` åŠ¨æ€æ·»åŠ å¤šè¯­è¨€æ”¯æŒ

æ— éœ€åˆ›å»ºå¹¶ç¼–å†™å•ç‹¬çš„å¤šè¯­è¨€æ–‡ä»¶ï¼Œä½¿ç”¨ `addLocale()` æ¥å£å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ è¯­è¨€æ”¯æŒã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š

| å‚æ•°      | ç±»å‹     | ä»‹ç»                          |
| --------- | -------- | ----------------------------- |
| `name`    | `String` | å¤šè¯­è¨€çš„ Key                  |
| `message` | `Object` | å¤šè¯­è¨€çš„å†…å®¹å¯¹è±¡              |
| `options` | `Object` | `momentLocale` å’Œ `antd` é…ç½® |

ä¾‹å¦‚ï¼Œæ‚¨æƒ³è¦åŠ¨æ€å¼•å…¥ç¹ä½“ä¸­æ–‡çš„å¤šè¯­è¨€æ”¯æŒï¼Œå¯ä»¥ç¼–å†™ä»£ç å¦‚ä¸‹ï¼š

```ts
import { addLocale } from 'umi';
import zhTW from 'antd/es/locale/zh_TW';

addLocale(
  'zh-TW',
  {
    welcome: 'æ­¡è¿å…‰è‡¨ Umi çš„ä¸–ç•Œï¼',
  },
  {
    momentLocale: 'zh-tw',
    antd: zhTW,
  },
);
```

### `getAllLocales` è·å–å¤šè¯­è¨€åˆ—è¡¨

é€šè¿‡ `getAllLocales()` æ¥å£å¯ä»¥è·å–å½“å‰æ‰€æœ‰å¤šè¯­è¨€é€‰é¡¹çš„æ•°ç»„ï¼ŒåŒ…æ‹¬é€šè¿‡ `addLocale()` æ–¹æ³•æ·»åŠ çš„å¤šè¯­è¨€é€‰é¡¹ã€‚è¯¥æ¥å£é»˜è®¤ä¼šåœ¨ `src/locales` ç›®å½•ä¸‹å¯»æ‰¾å½¢å¦‚ `zh-CN.(js|json|ts)` çš„æ–‡ä»¶ï¼Œå¹¶è¿”å›å¤šè¯­è¨€çš„ Keyã€‚

```ts
import { getAllLocales } from 'umi';

getAllLocales();
// [en-US, zh-CN, ...]
```

### `getLocale` è·å–å½“å‰é€‰æ‹©çš„è¯­è¨€

é€šè¿‡ `getLocale()` æ¥å£å¯ä»¥è·å–å½“å‰é€‰æ‹©çš„è¯­è¨€ï¼š

```ts
import { getLocale } from 'umi';

getLocale();
// zh-CN
```

### `useIntl` è·å– `intl` å¯¹è±¡

`useIntl()` å¾ˆæœ‰å¯èƒ½ä¼šæ˜¯æ‚¨å¼€å‘ä¸­æœ€å¸¸ç”¨çš„æ¥å£ï¼Œé€šè¿‡å®ƒå¯ä»¥è·å– `intl` å¯¹è±¡ï¼Œå¹¶è¿›ä¸€æ­¥æ‰§è¡Œ `formatMessage()` ç­‰æ–¹æ³•æ¥å®ç°æ‚¨å¤šå…ƒçš„éœ€æ±‚ï¼š

```json
// src/locales/en-US.json
{
  "welcome": "Hi, {name}."
}
```

```ts
import { useIntl } from 'umi';

const intl = useIntl();
const msg = intl.formatMessage(
  {
    id: 'welcome',
  },
  {
    name: 'Jackson',
  },
);
console.log(msg);
// Hi, Jackson.
```

å…³äº `intl` å¯¹è±¡çš„æ›´å¤šç”¨æ³•ï¼Œè¯·å‚é˜… `react-intl` çš„[æ¥å£æ–‡æ¡£](https://github.com/formatjs/formatjs/blob/main/website/docs/react-intl/api.md)ã€‚

### `setLocale` è®¾ç½®è¯­è¨€

é€šè¿‡ `setLocale()` æ¥å£å¯ä»¥ä½¿ç”¨ç¼–ç¨‹çš„æ–¹æ³•åŠ¨æ€è®¾ç½®å½“å‰çš„è¯­è¨€ã€‚å®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼š

| å‚æ•°         | ç±»å‹      | ä»‹ç»                                       |
| ------------ | --------- | ------------------------------------------ |
| `lang`       | `String`  | åˆ‡æ¢åˆ°çš„è¯­è¨€                               |
| `realReload` | `Boolean` | åˆ‡æ¢æ—¶æ˜¯å¦åˆ·æ–°é¡µé¢ï¼Œé»˜è®¤ä¸º `true` åˆ·æ–°é¡µé¢ |

```ts
import { setLocale } from 'umi';

// åˆ‡æ¢æ—¶åˆ·æ–°é¡µé¢
setLocale('en-US');

// åˆ‡æ¢æ—¶ä¸åˆ·æ–°é¡µé¢
setLocale('en-US', false);
```

## é…ç½®æ’ä»¶

æ‚¨å¯ä»¥åœ¨ `config/config.ts` ä¸­é…ç½®å›½é™…åŒ–æ’ä»¶ã€‚é»˜è®¤å€¼å¦‚ä¸‹ï¼š

```ts
export default {
  locale: {
    antd: false, // å¦‚æœé¡¹ç›®ä¾èµ–ä¸­åŒ…å« `antd`ï¼Œåˆ™é»˜è®¤ä¸º true
    baseNavigator: true,
    baseSeparator: '-',
    default: 'zh-CN',
    title: false,
    useLocalStorage: true,
  },
};
```

é…ç½®çš„è¯¦ç»†ä»‹ç»å¦‚ä¸‹ï¼š

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | ä»‹ç» |
| --- | --- | --- | --- |
| `antd` | `Boolean` | `false`ï¼›å¦‚æœé¡¹ç›®åŒ…å« `antd` ä¾èµ–ï¼Œåˆ™ä¸º `true` | `antd` çš„å›½é™…åŒ–æ”¯æŒã€‚æ›´å¤šä»‹ç»å¯å‚è§[æ­¤æ–‡æ¡£](https://ant.design/docs/react/i18n-cn)ã€‚ |
| `baseNavigator` | `Boolean` | `true` | å¼€å¯**æµè§ˆå™¨è¯­è¨€æ£€æµ‹**ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“å‰è¯­è¨€ç¯å¢ƒçš„è¯†åˆ«æŒ‰ç…§ï¼š`localStorage` ä¸­ `umi_locale` å€¼ > æµè§ˆå™¨æ£€æµ‹ > `default` è®¾ç½®çš„é»˜è®¤è¯­è¨€ > `zh-CN` |
| `baseSeparator` | `String` | `-` | è¯­è¨€ï¼ˆLanguageï¼‰ä¸å›½å®¶ï¼ˆCountryï¼‰ ä¹‹é—´çš„**åˆ†å‰²ç¬¦**ã€‚é»˜è®¤æƒ…å†µä¸‹ä¸º `-`ï¼Œè¿”å›çš„è¯­è¨€åŠç›®å½•æ–‡ä»¶ä¸º `zh-CN`ã€`en-US` å’Œ `sk` ç­‰ã€‚è‹¥æŒ‡å®šä¸º `_`ï¼Œåˆ™ `default` é»˜è®¤ä¸º `zh_CN`ã€‚ |
| `default` | `String` | `zh-CN` | é¡¹ç›®**é»˜è®¤è¯­è¨€**ã€‚å½“æ£€æµ‹ä¸åˆ°å…·ä½“è¯­è¨€æ—¶ï¼Œä½¿ç”¨ `default` è®¾ç½®çš„é»˜è®¤è¯­è¨€ã€‚ |
| `title` | `Boolean` | `false` | å¼€å¯[**æ ‡é¢˜å›½é™…åŒ–**](#æ ‡é¢˜å›½é™…åŒ–)ã€‚ |
| `useLocalStorage` | `Boolean` | `true` | è‡ªåŠ¨ä½¿ç”¨ `localStorage` ä¿å­˜å½“å‰ä½¿ç”¨çš„è¯­è¨€ã€‚ |

### æ ‡é¢˜å›½é™…åŒ–

åœ¨è·¯ç”±é…ç½®ä¸­æ·»åŠ  `title` é¡¹å³å¯å¯ç”¨å›½é™…åŒ–æ”¯æŒï¼Œè‡ªåŠ¨å°†é¡µé¢çš„æ ‡é¢˜è½¬ä¸ºå¯¹åº”çš„å¤šè¯­è¨€å†…å®¹ã€‚

ä¾‹å¦‚ï¼Œç¼–å†™å¤šè¯­è¨€æ–‡ä»¶å¦‚ä¸‹ï¼š

```ts
// src/locales/zh-CN.ts
export default {
  'site.title': 'Umi - ä¼ä¸šçº§ React åº”ç”¨å¼€å‘æ¡†æ¶',
  'about.title': 'Umi - å…³äºæˆ‘',
};
```

```ts
// src/locales/en-US.ts
export default {
  'site.title': 'Umi - Enterprise-level React Application Framework',
  'about.title': 'Umi - About me',
};
```

é…ç½®è·¯ç”±å†…å®¹å¦‚ä¸‹ï¼š

```ts
// config/routes.ts
export default {
  title: 'site.title',
  routes: [
    {
      path: '/',
      component: 'Index',
    },
    {
      path: '/about',
      component: 'About',
      title: 'about.title',
    },
  ],
};
```

è®¿é—®é¡µé¢æ—¶ï¼š

- `/` è·¯ç”±ã€‚å¤šè¯­è¨€é€‰é¡¹ä¸º `zh-CN` æ—¶ï¼Œé¡µé¢æ ‡é¢˜ä¸º `Umi - ä¼ä¸šçº§ React åº”ç”¨å¼€å‘æ¡†æ¶`ï¼›ä¸º `en-US` æ—¶ï¼Œé¡µé¢æ ‡é¢˜ä¸º `Umi - Enterprise-level React Application Framework`ã€‚
- `/about` è·¯ç”±ã€‚å¤šè¯­è¨€é€‰é¡¹ä¸º `zh-CN` æ—¶ï¼Œé¡µé¢æ ‡é¢˜ä¸º `Umi - å…³äºæˆ‘`ï¼›ä¸º `en-US` æ—¶ï¼Œé¡µé¢æ ‡é¢˜ä¸º `Umi - About me`ã€‚

## è¿è¡Œæ—¶æ‹“å±•

å›½é™…åŒ–æ’ä»¶å…è®¸æ‚¨åœ¨è¿è¡Œæ—¶å¯¹å®ƒè¿›è¡Œä¸€äº›æ‹“å±•ä¸å®šåˆ¶ã€‚

### è‡ªå®šä¹‰ `getLocale`

æ‚¨å¯ä»¥è‡ªå®šä¹‰è·å–é¡µé¢è¯­è¨€ `getLocale()` æ–¹æ³•çš„é€»è¾‘ï¼Œä¾‹å¦‚é€šè¿‡è¯†åˆ«é“¾æ¥ `?locale=en-US`ï¼Œå°† `en-US` ä½œä¸ºå½“å‰é¡µé¢çš„è¯­è¨€ï¼š

```ts
// src/app.js
import qs from 'qs';

export const locale = {
  getLocale() {
    const { search } = window.location;
    const { locale = 'zh-CN' } = qs.parse(search, { ignoreQueryPrefix: true });
    return locale;
  },
};
```

## FAQ

### ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ `formatMessage` è¿™ä¸ªè¯­æ³•ç³–ï¼Ÿ

è™½ç„¶ `formatMessage` ç›´æ¥ä½¿ç”¨èµ·æ¥ä¼šéå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯å®ƒè„±ç¦»äº† React çš„ç”Ÿå‘½å‘¨æœŸï¼Œæœ€ä¸¥é‡çš„é—®é¢˜å°±æ˜¯åˆ‡æ¢è¯­è¨€æ—¶æ— æ³•è§¦å‘ DOM çš„é‡æ–°æ¸²æŸ“ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åˆ‡æ¢è¯­è¨€æ—¶å°±éœ€è¦åˆ·æ–°ä¸€ä¸‹æµè§ˆå™¨ï¼Œç”¨æˆ·ä½“éªŒå¾ˆå·®ã€‚æ‰€ä»¥æ¨èå¤§å®¶ä½¿ç”¨ `useIntl` æˆ–è€… `injectIntl`ï¼Œå¯ä»¥å®ç°åŒæ ·çš„åŠŸèƒ½ã€‚
