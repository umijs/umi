---
order: 1
toc: content
group:
  title: Blog
---

# ä½¿ç”¨ Umi å¼€å‘ä¸€ä¸ª Blog

è¿™ç¯‡æ–‡ç« å°†å¸¦é¢†ä½ ä½¿ç”¨ Umi.js æ­é… [PlanetScale](https://planetscale.com/), [Prisma](https://www.prisma.io/) å’Œ [Tailwindcss](https://tailwindcss.com/)ç­‰æœåŠ¡ä¸æŠ€æœ¯ï¼Œå¼€å‘ä¸€ä¸ªç®€å•çš„åšå®¢ç½‘ç«™ï¼Œå¹¶éƒ¨ç½²åˆ° [Vercel](https://vercel.com) æœåŠ¡ã€‚

## æˆæœå±•ç¤º

æˆæœçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼šä½ ä¼šæœ‰ä¸€ä¸ªåšå®¢é¦–é¡µå±•ç¤ºä½ çš„æ–‡ç«  [https://umi-blog-example.vercel.app/](https://umi-blog-example.vercel.app/)

![åšå®¢é¦–é¡µ](https://img.alicdn.com/imgextra/i2/O1CN01a9YcgY24tEdndfXsw_!!6000000007448-2-tps-3104-1974.png)

ç‚¹å‡»æŸä¸€ç¯‡æ–‡ç« å¯ä»¥çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„å®Œæ•´å†…å®¹ï¼š[https://umi-blog-example.vercel.app/posts/5](https://umi-blog-example.vercel.app/posts/5)

![åšå®¢æ–‡ç« é¡µ](https://img.alicdn.com/imgextra/i4/O1CN01k84YL21wHCpYx02Yc_!!6000000006282-2-tps-3104-1974.png)

å½“ç„¶ï¼Œä½ è¿˜å¯ä»¥åœ¨åšå®¢ä¸­å‘è¡¨æ–°æ–‡ç« ï¼š[https://umi-blog-example.vercel.app/posts/create](https://umi-blog-example.vercel.app/posts/create)

![å‘è¡¨æ–‡ç« é¡µ](https://img.alicdn.com/imgextra/i4/O1CN01DZkDt41jvt0BJMZqi_!!6000000004611-2-tps-3104-1974.png)

å‰ææ˜¯ä½ æœ‰ç™»å…¥ï¼š[https://umi-blog-example.vercel.app/login](https://umi-blog-example.vercel.app/login)

![åšå®¢ç™»å…¥é¡µ](https://img.alicdn.com/imgextra/i1/O1CN015ce0oY1uKkfMCa1vq_!!6000000006019-2-tps-3104-1974.png)

å‡†å¤‡å¥½äº†å—ï¼Œè®©æˆ‘ä»¬é©¬ä¸Šå¼€å§‹å§ï¼

## ç¯å¢ƒå‡†å¤‡

é¦–å…ˆï¼Œä½ å¿…é¡»ç¡®ä¿ä½ çš„æœ¬åœ°ç¯å¢ƒå·²ç»å‡†å¤‡å¥½è¿›è¡Œä¸€ä¸ª Umi.js é¡¹ç›®çš„å¼€å‘ã€‚å¦‚æœä½ ç›®å‰è¿˜æ²¡æœ‰å¼€å‘è¿‡ Umi.js é¡¹ç›®ï¼Œä¹Ÿæ²¡æœ‰åœ¨æœ¬åœ°æ­å»ºè¿‡å¼€å‘ç¯å¢ƒï¼Œå»ºè®®ä½ å…ˆé˜…è¯» [å¼€å‘ç¯å¢ƒ](../docs/guides/prepare) è¿™ç¯‡æ•™å­¦ã€‚

é…ç½®å®Œæœ¬åœ°ç¯å¢ƒä»¥åï¼Œä½ å·²ç»å‡†å¤‡å¥½å¼€å§‹å¼€å‘ Umi.js é¡¹ç›®äº†ï¼è·Ÿç€ [è„šæ‰‹æ¶](../docs/guides/boilerplate) è¿™ç¯‡æ–‡æ¡£çš„æ•™å­¦ï¼Œå¿«é€Ÿåˆå§‹åŒ–ä¸€ä¸ª Umi.js é¡¹ç›®å§ã€‚

### è°ƒæ•´ç›®å½•ç»“æ„

å› ä¸ºæˆ‘ä»¬çš„åšå®¢ç½‘ç«™ä¼šä½¿ç”¨åˆ° Umi 4 çš„ API è·¯ç”±åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹è„šæ‰‹æ¶è‡ªåŠ¨äº§ç”Ÿçš„ç›®å½•ç»“æ„è¿›è¡Œä¸€äº›è°ƒæ•´ã€‚ä½ ç°åœ¨çš„ç›®å½•ç»“æ„åº”è¯¥çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š

```text
.
â”œâ”€â”€ assets
â”‚    â””â”€â”€ yay.jpg
â”œâ”€â”€ layouts
â”‚    â”œâ”€â”€ index.less
â”‚    â””â”€â”€ index.tsx
â”œâ”€â”€ node_modules
â”œâ”€â”€ package.json
â”œâ”€â”€ pages
â”‚    â”œâ”€â”€ docs.tsx
â”‚    â””â”€â”€ index.tsx
â”œâ”€â”€ pnpm-lock.yaml
â”œâ”€â”€ tsconfig.json
â””â”€â”€ typings.d.ts
```

æˆ‘ä»¬éœ€è¦æŠŠ `assets`, `layouts`, `pages` ç›®å½•ä»æ ¹ç›®å½•ç§»åŠ¨åˆ° `src` ç›®å½•ä¸‹ï¼Œç§»åŠ¨ä¹‹åä»–çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š

```text
.
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ assets
â”‚   â”‚    â””â”€â”€ yay.jpg
â”‚   â”œâ”€â”€ layouts
â”‚   â”‚    â”œâ”€â”€ index.less
â”‚   â”‚    â””â”€â”€ index.tsx
â”‚   â””â”€â”€â”€â”€ pages
â”‚        â”œâ”€â”€ docs.tsx
â”‚        â””â”€â”€ index.tsx
â”œâ”€â”€ node_modules
â”œâ”€â”€ package.json
â”œâ”€â”€ pnpm-lock.yaml
â”œâ”€â”€ tsconfig.json
â””â”€â”€ typings.d.ts
```

:::info
ä¸ºä»€ä¹ˆè¦è¿™æ ·åšå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæ ¹ç›®å½•ä¸‹çš„ `api` ç›®å½•ä¼šè¢«æˆ‘ä»¬ä½œä¸º API è·¯ç”±ç”Ÿæˆæ„å»ºäº§ç‰©çš„åœ°æ–¹ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰å¤šä¸€å±‚ `src` ç›®å½•çš„è¯ï¼Œæˆ‘ä»¬çš„ API è·¯ç”±ç›®å½•å°±ä¼šå’Œæ„å»ºäº§ç‰©ç›®å½•å†²çªå•¦ï½
:::

### æ³¨å†Œ PlanetScale æœåŠ¡

æˆ‘ä»¬çš„åšå®¢å°†ä¼šæŠŠç”¨æˆ·å’Œæ–‡ç« çš„æ•°æ®ä¿å­˜åœ¨ MySQL æ•°æ®åº“ä¸­ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä¸éœ€è¦çœŸçš„è‡ªå·±å‡†å¤‡ä¸€å°æœåŠ¡å™¨æ¥è¿è¡Œæ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…è´¹çš„ [PlanetScale](https://planetscale.com/)æ¥ä¸€é”®éƒ¨ç½²ä¸€ä¸ªå¼€ç®±å³ç”¨çš„æ•°æ®åº“ï¼

é¦–å…ˆä» [https://auth.planetscale.com/sign-in](https://auth.planetscale.com/sign-in)ç™»å…¥ä½ çš„è´¦å·ï¼Œå¦‚æœä½ æ²¡æœ‰æ³¨å†Œè¿‡ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ GitHub ä¸€é”®ç™»å…¥æˆ–æ˜¯ç‚¹å‡» [Sign up for an account](https://auth.planetscale.com/sign-up) æ³¨å†Œä¸€ä¸ªè´¦å·ã€‚

![ç™»å…¥ PlanetScale](https://img.alicdn.com/imgextra/i4/O1CN01BVVAju1eONxEM9wr5_!!6000000003861-2-tps-2506-1464.png)

ç™»å…¥ä¹‹åï¼Œåœ¨ä½ çš„ PlanetScale è´¦å·å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼ˆå¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ³¨å†Œï¼Œåˆ™å¯ä»¥çœ‹åˆ°ä»–çš„æ•™å­¦æ­¥éª¤å¸¦é¢†ä½ ä¸€æ­¥æ­¥å»ºç«‹ä¸€ä¸ªæ•°æ®åº“ï¼‰ï¼š

![å»ºç«‹æ•°æ®åº“](https://img.alicdn.com/imgextra/i4/O1CN01St4IQW21lV6f8bpKg_!!6000000007025-2-tps-3104-1974.png)

å»ºç«‹å®Œæˆåï¼Œç‚¹å‡»æ•°æ®åº“é¡µé¢å³ä¸Šè§’çš„ **Connect** æŒ‰é’®ï¼š

![Connect æŒ‰é’®](https://img.alicdn.com/imgextra/i4/O1CN01Hnyqbo26g4UNnSqoQ_!!6000000007690-2-tps-3104-1974.png)

ä½ ä¼šåœ¨å¼¹çª—é‡Œé¢çœ‹åˆ°ä¸€ä¸ª **Connect With** çš„ä¸‹æ‹‰é€‰å•ï¼Œé€‰æ‹© `Prisma`ï¼Œç„¶åå°±èƒ½è·å¾—ä¸€ä¸²è¿™ä¸ªæ ¼å¼çš„å­—ç¬¦ä¸²ï¼š

```dotenv
DATABASE_URL='mysql://************:************@************.ap-southeast-2.psdb.cloud/umi-blog-example?sslaccept=strict'
```

è¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯æˆ‘ä»¬è¦ç”¨æ¥è®© Prisma è¿æ¥æ•°æ®åº“çš„è¿çº¿ä¿¡æ¯ï¼Œæš‚æ—¶å…ˆæŠŠä»–è®°å½•èµ·æ¥å°±å¯ä»¥äº† ğŸ‘

### å®‰è£…ä¾èµ–

æ¥ä¸‹æ¥ï¼Œå¸®æˆ‘ä»¬çš„ Umi é¡¹ç›®å®‰è£…è¿™æ¬¡æ•™ç¨‹ä¼šç”¨åˆ°çš„ä¾èµ–ï¼š

```shell
pnpm i -d prisma @types/bcryptjs @types/jsonwebtoken
pnpm i @prisma/client bcryptjs jsonwebtoken
```

è¿™ä¸¤è¡Œå‘½ä»¤å¸®æˆ‘ä»¬å®‰è£…äº†è¿™äº›åŒ…ï¼š

1. [prisma](https://github.com/prisma/prisma)å’Œ [@prisma/client](https://www.npmjs.com/package/@prisma/client):è¿™ä¸¤ä¸ªåŒ…è®©æˆ‘ä»¬å¯ä»¥ç”¨ [Prisma](https://www.prisma.io/)æ¥æ–¹ä¾¿åœ°ä¸²æ¥æ•°æ®åº“ï¼Œä¸éœ€è¦æ‹…å¿ƒä»»ä½•å¤æ‚çš„ SQL å‘½ä»¤ã€‚
2. [bcryptjs](https://github.com/dcodeIO/bcrypt.js):è¿™ä¸ªåŒ…è®©æˆ‘ä»¬å°†ç”¨æˆ·æ³¨å†Œåçš„å¯†ç ä½¿ç”¨ [Bcrypt](https://en.wikipedia.org/wiki/Bcrypt)å“ˆå¸ŒåŠ å¯†ç®—æ³•æ¥å®‰å…¨çš„å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚
3. [jsonwebtoken](https://github.com/auth0/node-jsonwebtoken):è¿™ä¸ªåŒ…è®©æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ç”¨ [JWT(Json Web Token)](https://jwt.io/) å®ç°ç”¨æˆ·é‰´æƒã€‚

ç„¶åå°† `package.json` ä¸­ `scripts` é‡Œé¢çš„ `build` è„šæœ¬ä»

```
"scripts": {
  "dev": "umi dev",
  "build": "umi build",
  "postinstall": "umi setup",
  "start": "npm run dev"
},
```

æ”¹æˆ

```
"scripts": {
  "dev": "umi dev",
  "build": "prisma generate && umi build",
  "postinstall": "umi setup",
  "start": "npm run dev"
},
```

è¿™å¯ä»¥ç¡®ä¿æ¯æ¬¡å¼€å§‹æ„å»ºä»¥å‰éƒ½å·²ç»ç”Ÿæˆå¥½ Prisma å®¢æˆ·ç«¯ã€‚

### å®‰è£… Tailwindcss

ä½¿ç”¨ Umi æä¾›çš„å¾®ç”Ÿæˆå™¨æ¥åœ¨é¡¹ç›®ä¸­å¯ç”¨ Tailwindcss :

```shell
npx umi g tailwindcss
```

ä»–ä¼šå¸®æˆ‘ä»¬å®‰è£… Tailwindcss æ‰€éœ€è¦çš„ä¾èµ–ï¼Œç„¶åç”Ÿæˆéœ€è¦çš„æ–‡ä»¶ã€‚

### åˆå§‹åŒ–é¡µé¢ç»„ä»¶

æ¥ä¸‹æ¥ï¼Œå½“ä½ ä½¿ç”¨ `pnpm dev`å¯åŠ¨é¡¹ç›®åï¼Œå¯èƒ½ä¼šçœ‹åˆ°é”™è¯¯è®¯æ¯å¹¶ä¸”å¯åŠ¨å¤±è´¥äº†ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨é…ç½®ä¸­å£°æ˜äº†ä¸€äº›é¡µé¢ï¼Œä½†å¹¶æ²¡æœ‰å¸®ä»–å»ºç«‹å¯¹åº”çš„é¡µé¢ç»„ä»¶ï¼

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Umi çš„å¾®ç”Ÿæˆå™¨æ¥è‡ªåŠ¨ç”Ÿæˆè¿™äº›é¡µé¢ï¼š`login.tsx`, `posts/post.tsx`, `posts/create.tsx`:

```shell
npx umi g page login posts/post posts/create
```

æ–°å¢åçš„ç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š

```text
src
â”œâ”€â”€ assets
â”‚     â””â”€â”€ yay.jpg
â”œâ”€â”€ layouts
â”‚     â”œâ”€â”€ index.less
â”‚     â””â”€â”€ index.tsx
â””â”€â”€ pages
    â”œâ”€â”€ index.less
    â”œâ”€â”€ index.tsx
    â”œâ”€â”€ login.less
    â”œâ”€â”€ login.tsx
    â””â”€â”€ posts
        â”œâ”€â”€ create.less
        â”œâ”€â”€ create.tsx
        â”œâ”€â”€ post.less
        â””â”€â”€ post.tsx
```

ç°åœ¨å†è¾“å…¥ä¸€æ¬¡ `pnpm dev` å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„ç½‘ç«™æ­£å¸¸å¯åŠ¨äº†ã€‚

### é…ç½® umi é¡¹ç›®

æœ€åä¸€æ­¥ï¼Œå°±æ˜¯è¦æ¥å¯¹ Umi é¡¹ç›®è¿›è¡Œé…ç½®ï¼Œå®Œæ•´çš„é…ç½®å¯ä»¥å‚è€ƒ [é…ç½®](../docs/api/config) è¿™ç¯‡æ•™å­¦æ–‡æ¡£ï¼Œåœ¨æœ¬æ¬¡çš„æ•™å­¦ä¸­ï¼Œåªè¦æŒ‰ç…§ä»¥ä¸‹é…ç½®å³å¯ï¼š

```ts
// .umirc.ts

export default {
  npmClient: 'pnpm',
  apiRoute: {
    platform: 'vercel',
  },
  routes: [
    { path: '/', component: 'index' },
    { path: '/posts/create', component: 'posts/create' },
    { path: '/login', component: 'login' },
    { path: '/posts/:postId', component: 'posts/post' },
  ],
  plugins: [require.resolve('@umijs/plugins/dist/tailwindcss')],
  tailwindcss: {},
};
```

å…¶ä¸­ï¼Œ`apiRoute` è¿™ä¸ªé…ç½®é¡¹å‘Šè¯‰ Umi æˆ‘ä»¬çš„é¡¹ç›®å¯ç”¨äº† **API è·¯ç”±** è¿™ä¸ªåŠŸèƒ½ï¼Œè€Œ `platform: 'vercel'` ä»£è¡¨æˆ‘ä»¬è¦éƒ¨ç½²åˆ°[Vercel](https://vercel.com) å¹³å°ï¼Œåœ¨ `umi build` çš„æ—¶å€™ä¼šé’ˆå¯¹è¿™ä¸ªå¹³å°æ¥å°† API è·¯ç”±è¿›è¡Œæ‰“åŒ…ã€‚

ä¸ºäº†é¡ºåˆ©éƒ¨ç½²é¡¹ç›®åˆ° Vercel ï¼Œä½ éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åŠ å…¥ä¸€ä¸ª `vercel.json` é…ç½®æ–‡ä»¶ï¼š

```json
{
  "build": {
    "env": {
      "ENABLE_FILE_SYSTEM_API": "1"
    }
  },
  "rewrites": [
    {
      "source": "/api/:match*",
      "destination": "api/:match*"
    }
  ]
}
```

`route` è¿™ä¸ªé…ç½®é¡¹åˆ™å£°æ˜äº†æˆ‘ä»¬ç½‘ç«™çš„è·¯ç”±æ¶æ„ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„åšå®¢ç½‘ç«™æœ‰è¿™äº›é¡µé¢ï¼š

- `/`: é¦–é¡µ
- `/posts/create`: å»ºç«‹æ–‡ç« 
- `/login`: ç™»å…¥
- `/posts/:postId`: æŸç¯‡æ–‡ç« 

`plugins` é…ç½®é¡¹ä»£è¡¨æˆ‘ä»¬å¯ç”¨äº†å“ªäº› Umi æ’ä»¶ï¼Œå…¶ä¸­ `@umijs/plugins/dist/tailwindcss` æ˜¯åœ¨ Umi ä¸­ä½¿ç”¨ Tailwindcss
çš„æ’ä»¶ã€‚ä¸‹é¢ä¸€é¡¹ `tailwindcss: {}` åˆ™æ˜¯ä»é…ç½®æ¥å¯ç”¨è¯¥æ’ä»¶çš„æ„æ€ã€‚

## API è·¯ç”±è®¾è®¡

æˆ‘ä»¬çš„æ•´ä¸ªåšå®¢ç½‘ç«™ç”±ä¸¤å¤§éƒ¨åˆ†æ„æˆï¼Œä¸€åŠæ˜¯è¿è¡Œåœ¨æµè§ˆå™¨å†…çš„å‰ç«¯ä»£ç ï¼Œå¦ä¸€åŠåˆ™æ˜¯è¿è¡Œåœ¨ Serverless Function ä¸­çš„æœåŠ¡ç«¯ä»£ç ã€‚

ä¸ºä»€ä¹ˆéœ€è¦åˆ†æˆä¸¤è¾¹å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæœ‰äº›ä»£ç æˆ‘ä»¬ä¸èƒ½è®©ä»–åœ¨æµè§ˆå™¨å†…è¿è¡Œï¼Œæ¯”å¦‚è¯´ç”¨æˆ·é‰´æƒã€ä¸²æ¥æ•°æ®åº“ç­‰ç­‰çš„åŠŸèƒ½ï¼Œè¿™äº›å¿…é¡»ä½œä¸ºä¸€ä¸ªæœåŠ¡ç„¶åä»¥ API çš„å½¢å¼æš´éœ²ç»™å‰ç«¯é¡µé¢è°ƒç”¨ï¼Œè¿™ä¸ªéƒ¨åˆ†å¯ä»¥é€è¿‡ Umi 4 çš„ API è·¯ç”±åŠŸèƒ½æ¥å®ç°ã€‚

> (è¿™é‡Œå¥½åƒæ”¾ä¸€å¼ å›¾å¯ä»¥æ¯”è¾ƒæ¸…æ¥šåœ°è§£é‡Š)

å› ä¸ºæˆ‘ä»¬å·²ç»åœ¨ `.umirc.ts` é…ç½®æ–‡ä»¶ä¸­å£°æ˜äº†æˆ‘ä»¬è¦å¯ç”¨ API è·¯ç”±åŠŸèƒ½ï¼Œç°åœ¨å¯ä»¥ç›´æ¥åœ¨ `src` ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª `api`ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¸‹ä»¥çº¦å®šå¼è·¯ç”±çš„è®¾è®¡æ¥æä¾› API è·¯ç”±çš„å¼€å‘ã€‚

ä½œä¸ºä¸€ä¸ªåšå®¢çš„ API æœåŠ¡ï¼Œä¸éš¾æƒ³åˆ°æˆ‘ä»¬ä¼šéœ€è¦è¿™äº›æ¥å£æ¥ä¾›ç”¨æˆ·è°ƒç”¨ï¼š

1. ç”¨æˆ·æ³¨å†Œ: `POST /api/register`
2. ç”¨æˆ·ç™»å…¥: `POST /api/login`
3. å‘è¡¨æ–‡ç« : `POST /api/posts`
4. æŸ¥è¯¢æ‰€æœ‰æ–‡ç« : `GET /api/posts`
5. æŸ¥è¯¢ä¸€ç¯‡æ–‡ç« : `GET /api/posts/{postId}`

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ `src/api` ç›®å½•ä¸‹å»ºç«‹è¿™äº›æ–°æ–‡ä»¶ï¼š

```text
src
â”œâ”€â”€ api
â”‚     â”œâ”€â”€ login.ts
â”‚     â”œâ”€â”€ register.ts
â”‚     â””â”€â”€ posts
â”‚           â”œâ”€â”€ [postId].ts
â”‚           â””â”€â”€ index.ts
...
```

:::info
ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ–‡ä»¶å«åš `[postId].ts`ï¼Œè¿™ä¸ªå†™æ³•ä»£è¡¨è¿™ä¸ªè·¯ç”±å¯ä»¥åŠ¨æ€åŒ¹é…ä¸åŒçš„å€¼ã€‚ä¾‹å¦‚ `/api/posts/1` å’Œ `/api/posts/2` ä¸¤ä¸ªè¯·æ±‚éƒ½ä¼šäº¤ç»™ `src/api/posts/[postId].ts`å¤„ç†ï¼Œä½†ä»–ä»¬çš„ `req.params` åˆ†åˆ«æ˜¯ `{ postId: 1 }` å’Œ `{ postId: 2 }`ã€‚
:::

è¿™é‡Œçš„æ¯ä¸ª `.ts` æ–‡ä»¶å°±æ˜¯ä¸€ä¸ª **API Handler**ï¼Œä»–ä»¬é»˜è®¤å¯¼å‡ºä¸€ä¸ªå‡½æ•°ç”¨æ¥å¤„ç†å‘é€åˆ°è¯¥è·¯å¾„çš„è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥æš‚æ—¶å…ˆè¿™æ ·å†™ï¼š

```ts
import type { UmiApiRequest, UmiApiResponse } from 'umi';

export default async function (req: UmiApiRequest, res: UmiApiResponse) {
  res.status(400).json({ error: 'This API is not implemented yet.' });
}
```

ç„¶åä½ å¯ä»¥è¯•ç€ç”¨æµè§ˆå™¨æˆ– [Postman](https://www.postman.com) è®¿é—®çœ‹çœ‹è¿™äº› API è·¯ç”±ï¼ˆä¾‹å¦‚ `http://localhost:8000/api/login` )ï¼Œå°±å¯ä»¥çœ‹åˆ°ä½ åˆšåˆšå†™çš„å“åº”æ•°æ®äº† ğŸ‰

![Not implemented yet](https://img.alicdn.com/imgextra/i3/O1CN01IRTlsd1HXmvCRJUt1_!!6000000000768-2-tps-1302-666.png)

æˆ‘ä»¬ç­‰ä¸€ä¸‹å†å›æ¥å®ä½œè¿™äº› API è·¯ç”±çš„å®é™…åŠŸèƒ½ï¼Œå› ä¸ºæœ‰ä¸€ä¸ªæ›´é‡è¦çš„äº‹æƒ…è¦å…ˆåšã€‚

## å®šä¹‰ Schema

ç°åœ¨å¿…é¡»è¦å…ˆç¡®å®šä¸€ä»¶äº‹æƒ…ï¼šæˆ‘ä»¬è¦ä¿å­˜å“ªäº›æ•°æ®ã€ä»¥æ€ä¹ˆæ ·çš„å½¢å¼ä¿å­˜åœ¨æ•°æ®åº“ï¼Œåˆæ˜¯ä»¥æ€ä¹ˆæ ·çš„å½¢å¼å“åº”ç»™å‰ç«¯çš„ï¼Ÿ

### æ–‡ç« æ•°æ®

æ–‡ç« æ•°æ®ï¼ˆPostï¼‰æ¯ç¬”æ•°æ®å°±ä»£è¡¨äº†ä¸€ç¯‡åšå®¢é‡Œé¢çš„æ–‡ç« ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰è‡ªå·±çš„ç³»ç»Ÿéœ€æ±‚æ¥è®¾è®¡ä»–éœ€è¦ä¿å­˜çš„å†…å®¹ï¼Œä¾‹å¦‚æˆ‘ä»¬çš„èŒƒä¾‹ä¿å­˜äº†è¿™äº›æ•°æ®ï¼š

- `id`: æ–‡ç«  ID
- `title`: æ–‡ç« æ ‡é¢˜
- `authorId`: ä½œè€…çš„ ID
- `tags`: æ–‡ç« çš„æ ‡ç­¾ï¼ˆä»¥é€—å·éš”å¼€ï¼‰
- `imageUrl`: æ–‡ç« å°é¢å›¾ç‰‡çš„é“¾æ¥
- `content`: æ–‡ç« çš„å†…æ–‡ï¼ˆmarkdown æ ¼å¼ï¼‰

### ç”¨æˆ·æ•°æ®

ç”¨æˆ·æ•°æ® (User) æ¯ç¬”æ•°æ®ä»£è¡¨ä¸€ä¸ªåœ¨æˆ‘ä»¬åšå®¢æ³¨å†Œçš„ç”¨æˆ·æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§è‡ªå·±çš„ç³»ç»Ÿéœ€æ±‚æ¥è®¾è®¡ä»–éœ€è¦ä¿å­˜çš„å†…å®¹ï¼Œä¾‹å¦‚æˆ‘ä»¬çš„èŒƒä¾‹ä¿å­˜äº†è¿™äº›æ•°æ®ï¼š

- `id`: ç”¨æˆ· ID
- `name`: åç§°
- `email`: é‚®ç®±
- `avatarUrl`: å¤´åƒé“¾æ¥
- `passwordHash`: åŠ å¯†è¿‡çš„å¯†ç 

### ç”Ÿæˆé…ç½®

> è¿™ä¸ªç« èŠ‚å¯ä»¥è€ƒè™‘é˜…è¯» [Prisma å®˜æ–¹çš„æ•™å­¦æ–‡æ¡£](https://www.prisma.io/docs/getting-started/setup-prisma/start-from-scratch/relational-databases-typescript-mysql)

å®šä¹‰å¥½æ•°æ®æ ¼å¼ä»¥åï¼Œæˆ‘ä»¬è¦è®© Prisma å¸®æˆ‘ä»¬æ ¹æ® Schema è®¾è®¡æ¥ç”Ÿæˆå¯¹åº”çš„å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”è‡ªåŠ¨çš„å°†æ•°æ®åº“è¿ç§»è‡³ä¸ºæˆ‘ä»¬è®¾è®¡çš„æ ¼å¼ï¼Œ

#### è¿çº¿åˆ°æ•°æ®åº“

ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬åœ¨æ ¹ç›®å½•å»ºç«‹ä¸€ä¸ª `.env` æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨é‡Œé¢åŠ å…¥åˆšåˆšåœ¨ [æ³¨å†Œ PlanetScale æœåŠ¡](#æ³¨å†Œ-planetscale-æœåŠ¡) ç« èŠ‚æ‹¿åˆ°çš„è¿çº¿ä¿¡æ¯ã€‚

```dotenv
# .env

DATABASE_URL='mysql://************:************@************.ap-southeast-2.psdb.cloud/umi-blog-example?sslaccept=strict'
```

#### ç¼–å†™ Prisma é…ç½®

ç¬¬äºŒæ­¥ï¼Œåœ¨æ ¹ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ª `prisma/schema.prisma` æ–‡ä»¶ï¼Œå¹¶æŠŠæˆ‘ä»¬è®¾è®¡çš„ Schema æŒ‰ç…§ [Prisma è¯­æ³•](https://pris.ly/d/prisma-schema) å†™è¿›å»æ–‡ä»¶ä¸­ï¼š

```prisma
generator client {
  provider = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider = "mysql"
  referentialIntegrity = "prisma"
  url      = env("DATABASE_URL")
}

model Post {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  title     String   @db.VarChar(255)
  content   String?
  author    User     @relation(fields: [authorId], references: [id])
  authorId  Int
  imageUrl  String?
  tags      String

  @@index(authorId)
}

model User {
  id            Int      @id @default(autoincrement())
  email         String   @unique
  passwordHash  String
  name          String?
  posts         Post[]
  avatarUrl     String?
}
```

å®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥

```shell
npx prisma migrate dev --name init
```

ä»–ä¼šå¸®æˆ‘ä»¬å°† MySQL æ•°æ®åº“è¿ç§»ä¸ºæˆ‘ä»¬å®šä¹‰çš„æ ¼å¼ã€‚ æ¥ä¸‹æ¥ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥

```shell
npx prisma generate
```

ä»–ä¼šå¸®æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªæŒ‰ç…§æˆ‘ä»¬çš„ Schema è®¾è®¡é‡èº«å®šåˆ¶çš„å®¢æˆ·ç«¯åŒ…ã€‚

---

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»é¡ºåˆ©å¤„ç†å®Œæ•°æ®åº“çš„éƒ¨åˆ†ï¼Œæ¥ä¸‹æ¥åªè¦ä¸“æ³¨äºå¦‚ä½•åœ¨ API è·¯ç”±ä¸­ä½¿ç”¨ Prisma å®¢æˆ·ç«¯åŒ…æ¥è·å–ä¸æ›´æ–°æ•°æ®å³å¯ã€‚

## å®ç° API è·¯ç”±

æˆ‘ä»¬ç°åœ¨è¦å›å¤´æ¥å®ç°åˆšåˆšå»ºç«‹çš„é‚£äº› `api` ç›®å½•ä¸‹çš„ `.ts` æ–‡ä»¶äº†ï¼Œåªè¦æˆ‘ä»¬è‡ªå·±æ¸…æ¥šï¼š

1. API ä¼šå¦‚ä½•è¢«è°ƒç”¨ (path, request header, request body)
2. æˆ‘ä»¬åº”è¯¥åœ¨ API å†…åšä»€ä¹ˆäº‹
3. å“åº”ä»€ä¹ˆå†…å®¹å›å» (status, response header, response body)

é‚£ä¹ˆ API è·¯ç”±çš„å¼€å‘å°±åƒå†™ç¼–å†™ä¸€ä¸ªç®€å•çš„å‡½æ•°ä¸€æ ·ã€‚

### ç”¨æˆ·æ³¨å†Œ

å½“ç”¨æˆ·å¯¹ `/api/register` å‘èµ· `POST` è¯·æ±‚æ—¶ï¼Œä»£è¡¨ä»–ä»¬æƒ³è¦åœ¨æˆ‘ä»¬çš„åšå®¢ç½‘ç«™æ³¨å†Œä¸€ä¸ªè´¦å·ã€‚

:::info
ä½ å¯ä»¥åœ¨ [https://github.com/umijs/umi-blog-example/blob/main/src/api/register.ts](https://github.com/umijs/umi-blog-example/blob/main/src/api/register.ts) æ‰¾åˆ°è¿™ä¸ªç¤ºèŒƒçš„æºä»£ç ï¼
:::

```ts
// src/api/register.ts

import type { UmiApiRequest, UmiApiResponse } from 'umi';
import { PrismaClient } from '@prisma/client';
import bcrypt from 'bcryptjs';
import { signToken } from '@/utils/jwt';

export default async function (req: UmiApiRequest, res: UmiApiResponse) {
  switch (req.method) {
    // å¦‚æœå¯¹è¿™ä¸ªè·¯å¾„å‘èµ· POST è¯·æ±‚ï¼Œä»£è¡¨ä»–æƒ³è¦æ³¨å†Œä¸€ä¸ªè´¦å·
    case 'POST':
      try {
        // å»ºç«‹ä¸€ä¸ª Prisma å®¢æˆ·ç«¯ï¼Œä»–å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿çº¿åˆ°æ•°æ®åº“
        const prisma = new PrismaClient();

        // åœ¨æ•°æ®åº“çš„ User è¡¨ä¸­å»ºç«‹ä¸€ä¸ªæ–°çš„æ•°æ®
        const user = await prisma.user.create({
          data: {
            email: req.body.email,

            // å¯†ç æ˜¯ç»è¿‡ bcrypt åŠ å¯†çš„
            passwordHash: bcrypt.hashSync(req.body.password, 8),
            name: req.body.name,
            avatarUrl: req.body.avatarUrl,
          },
        });

        // æŠŠå»ºç«‹æˆåŠŸçš„ç”¨æˆ·æ•°æ®ï¼ˆä¸åŒ…å«å¯†ç ï¼‰å’Œ JWT å›ä¼ ç»™å‰ç«¯
        res
          .status(201)
          .setCookie('token', await signToken(user.id))
          .json({ ...user, passwordHash: undefined });

        // å¤„ç†å®Œè¯·æ±‚ä»¥åè®°å¾—æ–­å¼€æ•°æ®åº“é“¾æ¥
        await prisma.$disconnect();
      } catch (e: any) {
        // å¦‚æœå‘ç”Ÿæœªé¢„æœŸçš„é”™è¯¯ï¼Œå°†å¯¹åº”çš„é”™è¯¯è¯´æ˜çš„ Prisma æ–‡æ¡£å‘ç»™ç”¨æˆ·
        res.status(500).json({
          result: false,
          message:
            typeof e.code === 'string'
              ? 'https://www.prisma.io/docs/reference/api-reference/error-reference#' +
                e.code.toLowerCase()
              : e,
        });
      }
      break;
    default:
      // å¦‚æœä¸æ˜¯ POST è¯·æ±‚ï¼Œä»£è¡¨ä»–æ­£åœ¨ç”¨é”™è¯¯çš„æ–¹å¼è®¿é—®è¿™ä¸ª API
      res.status(405).json({ error: 'Method not allowed' });
  }
}
```

å®Œæˆå¼€å‘åï¼Œå¯ä»¥ä½¿ç”¨ Postman å¯¹è¿™ä¸ª API å‘èµ·è¯·æ±‚ï¼Œæµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸è¿ä½œã€‚

### ç”¨æˆ·ç™»å…¥

å½“ç”¨æˆ·å¯¹ `/api/login` å‘èµ· `POST` è¯·æ±‚æ—¶ï¼Œä»£è¡¨ä»–ä»¬æƒ³è¦ç™»å…¥æˆ‘ä»¬çš„åšå®¢ç½‘ç«™å¹¶å–å¾—ä¸€ä¸ª JWT ä»¤ç‰Œï¼Œè¿™å¯ä»¥è®©ä»–ç”¨äºå»ºç«‹æ–°æ–‡ç« ã€‚

:::info
è¿™ä¸ªéƒ¨åˆ†ç•™ç»™è¯»è€…ç»ƒä¹ ï¼Œä½ å¯ä»¥åœ¨ [https://github.com/umijs/umi-blog-example/blob/main/src/api/login.ts](https://github.com/umijs/umi-blog-example/blob/main/src/api/login.ts) æ‰¾åˆ°è¿™ä¸ªç¤ºèŒƒçš„æºä»£ç ï¼
:::

### å‘è¡¨æ–‡ç« 

å½“ç”¨æˆ·å¯¹ `/api/posts` å‘èµ· `POST` è¯·æ±‚æ—¶ï¼Œä»£è¡¨ä»–ä»¬æƒ³è¦åœ¨æˆ‘ä»¬çš„åšå®¢ç½‘ç«™å‘è¡¨ä¸€ç¯‡æ–‡ç« ã€‚

:::info
è¿™ä¸ªéƒ¨åˆ†ç•™ç»™è¯»è€…ç»ƒä¹ ï¼Œä½ å¯ä»¥åœ¨ [https://github.com/umijs/umi-blog-example/blob/main/src/api/posts/index.ts](https://github.com/umijs/umi-blog-example/blob/main/src/api/posts/index.ts) æ‰¾åˆ°è¿™ä¸ªç¤ºèŒƒçš„æºä»£ç ï¼
:::

### æŸ¥è¯¢æ‰€æœ‰æ–‡ç« 

å½“ç”¨æˆ·å¯¹ `/api/posts` å‘èµ· `GET` è¯·æ±‚æ—¶ï¼Œä»£è¡¨ä»–ä»¬æƒ³è¦æŸ¥è¯¢æ‰€æœ‰æ–‡ç« çš„æ•°æ®ã€‚

:::info
è¿™ä¸ªéƒ¨åˆ†ç•™ç»™è¯»è€…ç»ƒä¹ ï¼Œä½ å¯ä»¥åœ¨ [https://github.com/umijs/umi-blog-example/blob/main/src/api/posts/index.ts](https://github.com/umijs/umi-blog-example/blob/main/src/api/posts/index.ts) æ‰¾åˆ°è¿™ä¸ªç¤ºèŒƒçš„æºä»£ç ï¼
:::

### æŸ¥è¯¢æŸç¯‡æ–‡ç« 

å½“ç”¨æˆ·å¯¹ `/api/posts/{postId}` å‘èµ· `GET` è¯·æ±‚æ—¶ï¼Œä»£è¡¨ä»–ä»¬æƒ³è¦æŸ¥è¯¢æŸç¯‡æ–‡ç« çš„æ•°æ®ã€‚

:::info
è¿™ä¸ªéƒ¨åˆ†ç•™ç»™è¯»è€…ç»ƒä¹ ï¼Œä½ å¯ä»¥åœ¨ [https://github.com/umijs/umi-blog-example/blob/main/src/api/posts/%5BpostId%5D.ts](https://github.com/umijs/umi-blog-example/blob/main/src/api/posts/%5BpostId%5D.ts) æ‰¾åˆ°è¿™ä¸ªç¤ºèŒƒçš„æºä»£ç ï¼
:::

## å®ä½œé¡µé¢ç»„ä»¶

åœ¨è¿™ä¸ªç« èŠ‚ï¼Œæˆ‘ä»¬ä¸»è¦è¦å­¦ä¹ å¦‚ä½•åœ¨é¡µé¢ç»„ä»¶è°ƒç”¨ APIï¼Œæ¥å®ç°è·å–æ–‡ç« æˆ–æ³¨å†Œç­‰å‰åç«¯äº¤äº’çš„è¡Œä¸ºï¼š

```jsx
// pages/index.tsx

import React, { useEffect, useState } from 'react';
import { history } from "umi";

export default function HomePage() {
  const [posts, setPosts] = useState<any[]>();
  return (
    <div>
      {!posts && <p>Loading...</p>}
      {posts && <div>
        {posts.map(post => <div key={post.id}>
          <div onClick={() => history.push(`/posts/${post.id}`)}>
            <p>{post.title}</p>
          </div>
        </div>)}
      </div>}
    </div>
  );
}
```

å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨é¦–é¡µç»„ä»¶ç»´æŠ¤äº†ä¸€ä¸ª `posts` çŠ¶æ€ï¼Œå½“ `posts` æ˜¯ `undefined` æ—¶ï¼Œæˆ‘ä»¬è®¤ä¸ºæ˜¯æ•°æ®å°šæœªåŠ è½½å®Œæˆã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åŠ å…¥ä¸€ä¸ª `useEffect`è®©ä»–åœ¨ç»„ä»¶åŠ è½½åå¯¹ API è·¯ç”±å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œå»æŸ¥è¯¢ç›®å‰æ‰€æœ‰çš„æ–‡ç« åˆ—è¡¨ï¼š

```tsx
// pages/index.tsx

import React, { useEffect, useState } from 'react';
import { history } from 'umi';

export default function HomePage() {
  const [posts, setPosts] = useState<any[]>();

  async function refresh() {
    try {
      const res = await fetch('/api/posts');
      if (res.status !== 200) {
        console.error(await res.text());
      }
      setPosts(await res.json());
    } catch (err) {
      console.error(err);
    }
  }

  useEffect(() => {
    refresh();
  }, []);

  return (
    <div>
      {!posts && <p>Loading...</p>}
      {posts && (
        <div>
          {posts.map((post) => (
            <div key={post.id}>
              <div onClick={() => history.push(`/posts/${post.id}`)}>
                <p>{post.title}</p>
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  );
}
```

å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åŠ å…¥äº†ä¸€ä¸ª `refresh` å‡½æ•°ï¼Œä»–ä¼šå¸®æˆ‘ä»¬ä» API è·¯ç”±æŸ¥è¯¢ç›®å‰çš„æ–‡ç« åˆ—è¡¨ã€‚è‹¥ä½ ç°åœ¨è®¿é—®è¿™ä¸ªé¡µé¢ï¼Œåº”è¯¥å¯ä»¥çœ‹åˆ°ä¸€å¼€å§‹æ˜¯ `Loading ...`
ç­‰ä¸€é˜µå­å°±ä¼šæœ‰å…¨éƒ¨æ–‡ç« çš„æ ‡é¢˜è¢«æ¸²æŸ“å‡ºæ¥çš„æ•ˆæœã€‚

![titles](https://img.alicdn.com/imgextra/i1/O1CN01n3CA371n0PlgkdEvQ_!!6000000005027-2-tps-3104-1974.png)

æœ€ååªè¦å¸®ä»–åŠ ä¸€ç‚¹æ ·å¼ï¼š

![titles-with-style](https://img.alicdn.com/imgextra/i1/O1CN01sfpTVd1IGDLK068gY_!!6000000000865-2-tps-3104-1974.png)

---

å…¶ä»–é¡µé¢ç•™ç»™è¯»è€…å®ä½œï¼Œå¯ä»¥åŠ å…¥è‡ªå·±çš„æƒ³æ³•åŠæ ·å¼çš„è®¾è®¡æ¥å®ç°ï¼Œæºä»£ç å¯å‚è€ƒï¼š[https://github.com/umijs/umi-blog-example/blob/main/src/pages](https://github.com/umijs/umi-blog-example/blob/main/src/pages)

## éƒ¨ç½²

æœ€åï¼Œå°†ä½ çš„é¡¹ç›®æäº¤åˆ° git æœåŠ¡ä¸Šï¼Œç„¶åç™»å…¥ [Vercel](https://vercel.com):

![Vercel](https://img.alicdn.com/imgextra/i2/O1CN01X7LqFx1LbEMYzLT3k_!!6000000001317-2-tps-2720-1710.png)

å¦‚æœä½ çš„é¡¹ç›®ä»£ç æ˜¯æäº¤åˆ° GitHubï¼Œé‚£ä¹ˆå»ºè®®ä½ é€‰æ‹© GitHub ç™»å…¥ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨ Vercel ç›´æ¥å¯¼å…¥ç°æœ‰çš„ä»£ç ä»“åº“äº† ğŸ‘

![Vercel New Project](https://img.alicdn.com/imgextra/i1/O1CN014qIgle23G171pvX0V_!!6000000007227-2-tps-2720-1818.png)

å¯¼å…¥ä»¥åï¼Œä»–ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°è¿™ä¸ªé¡¹ç›®æ˜¯ä½¿ç”¨ Umi.js æ¡†æ¶æ­å»ºçš„ï¼Œå¹¶ä¸”è‡ªåŠ¨åŒ–å®Œæˆç›¸å…³çš„é…ç½®ï¼Œå› æ­¤ç›´æ¥ç‚¹å‡» **Deploy** å³å¯å¼€å§‹éƒ¨ç½²ï¼

![Deploy](https://img.alicdn.com/imgextra/i3/O1CN013Ts04x1tqyv4VhzbW_!!6000000005954-2-tps-1468-1064.png)ç­‰ä»–éƒ¨ç½²å®Œæˆä»¥åï¼Œä½ çš„åšå®¢å°±æ­£å¼ä¸Šçº¿å•¦ ğŸ‘

---

ä½†è¿™ä¸ªæ—¶å€™ä½ ä¼šå‘ç°ï¼Œç½‘ç«™å†…çš„ API è·¯ç”±æ²¡æœ‰åŠæ³•æ­£å¸¸å·¥ä½œï¼Œè¿™æ˜¯å› ä¸ºä»–ç¼ºå°‘äº†è¿çº¿åˆ°æ•°æ®åº“éœ€è¦çš„ç¯å¢ƒå˜é‡ã€‚æˆ‘ä»¬éœ€è¦å¸®ä»–é…ç½®ä¸€ä¸‹ï¼š

![Settings](https://img.alicdn.com/imgextra/i1/O1CN01OYPPB61G61IKR8chz_!!6000000000572-2-tps-2632-1934.png)

åœ¨é¡¹ç›®é…ç½®é¡µé¢ï¼Œä¸‹é¢æœ‰å¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡çš„åœ°æ–¹ï¼š

![Env](https://img.alicdn.com/imgextra/i4/O1CN01nOLflV1I4lRMwsYHk_!!6000000000840-2-tps-2632-1934.png)

ä½ å¯ä»¥æŠŠ `DATABASE_URL`, `JWT_KEY` ç­‰ç­‰ä½ ç”¨åˆ°çš„ç¯å¢ƒå˜é‡ä»è¿™é‡Œä¼ å…¥ã€‚

![Redeploy](https://img.alicdn.com/imgextra/i3/O1CN013dlBGs2506aFTigki_!!6000000007463-2-tps-2644-1890.png)

åŠ å…¥ç¯å¢ƒå˜é‡ä»¥åï¼Œç‚¹å‡» **Redeploy** é‡æ–°éƒ¨ç½²ä¸€æ¬¡ç‰ˆæœ¬ï¼Œä½ çš„åšå®¢å°±èƒ½æ­£å¸¸è¿ä½œå•¦ï½
