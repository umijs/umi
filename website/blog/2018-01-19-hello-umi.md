---
title: Helloï¼umi
author: sorrycc
authorURL: http://twitter.com/chenchengpro
---

umiï¼ˆä¸­æ–‡åï¼šäº”ç±³ï¼‰æ˜¯æˆ‘ç›®å‰çš„å·¥ä½œé‡ç‚¹ï¼Œæ­£åœ¨å…¨åŠ›å¼€å‘ä¸­ï¼Œä»å†™ä¸‹ç¬¬ä¸€è¡Œä»£ç å¼€å§‹ç®—èµ·å·²æœ‰æ•°æœˆã€‚ä½†ä»é—²èŠå’Œé‚®ä»¶ä¸­å‘ç°ä¸å°‘äººè¿˜ä¸èƒ½å‡†å¤‡åœ°ç†è§£ umi æ˜¯å•¥ã€èƒ½åšå•¥ï¼Œäºæ˜¯è¶ç€ä»£ç å†™ç´¯äº†ï¼ŒèŠèŠ umi çš„ä¸€äº›æƒ…å†µã€‚

<!--truncate-->

**ä¸€ã€**

[umi](https://github.com/umijs/umi)ï¼ˆä¸­æ–‡åï¼šäº”ç±³ï¼‰æ˜¯æˆ‘ç›®å‰çš„å·¥ä½œé‡ç‚¹ï¼Œæ­£åœ¨å…¨åŠ›å¼€å‘ä¸­ï¼Œä»å†™ä¸‹ç¬¬ä¸€è¡Œä»£ç å¼€å§‹ç®—èµ·å·²æœ‰æ•°æœˆã€‚ä½†ä»é—²èŠå’Œé‚®ä»¶ä¸­å‘ç°ä¸å°‘äººè¿˜ä¸èƒ½å‡†ç¡®åœ°ç†è§£ umi æ˜¯å•¥ã€èƒ½åšå•¥ï¼Œäºæ˜¯è¶ç€ä»£ç å†™ç´¯äº†ï¼ŒèŠèŠ umi çš„ä¸€äº›æƒ…å†µã€‚

umi æ˜¯å·¥å…·å—ï¼Ÿæ˜¯ã€‚ä½†ä¸ä»…ä»…æ˜¯ã€‚**æˆ‘ç»™ umi çš„å®šä½æ˜¯å¼€å‘æ¡†æ¶ï¼Œç›®å‰åŒ…å«å·¥å…· + è·¯ç”±ï¼Œä¸åŒ…å«æ•°æ®å’Œè§†å›¾ã€‚** æ‰€ä»¥ umi[å·¥å…· + è·¯ç”±] + dva[æ•°æ®] + antd(-mobile)[è§†å›¾]ï¼Œå¾ˆé…å“¦ã€‚å¦å¤–ï¼Œumi ç›®å‰åŸºäº Reactï¼Œä¸æ”¯æŒ Vue å’Œå…¶ä»–æ¡†æ¶æˆ–è€…æ— æ¡†æ¶çš„å¼€å‘æ–¹å¼ã€‚

å‰é¢è¯´çš„ç›®å‰ï¼Œå…¶å®æ˜¯ç²¾åŠ›æœ‰é™ã€‚

&nbsp;

**äºŒã€**

å¤§å®¶å¯èƒ½ä¼šè§‰å¾—ï¼Œumi æœ‰å•¥ç‰¹åˆ«çš„ï¼Œå·¥å…·ç”¨ webpack + webpack-dev-server + babel + postcss + ... ï¼Œè·¯ç”±ç”¨ react-router ä¸å°±å®Œäº†å—ï¼Ÿ

è¿™æ˜¯ä¸Šä¸€ä»£çš„ä½¿ç”¨æ–¹å¼ï¼Œå·¥å…·æ˜¯å·¥å…·ï¼Œåº“æ˜¯åº“ï¼Œæ³¾æ¸­åˆ†æ˜ã€‚**è€Œè¿‘æ¥ï¼Œæˆ‘ä»¬å‘ç°å·¥å…·å’Œåº“å…¶å®å¯ä»¥ç³…åˆåœ¨ä¸€èµ·ï¼Œå·¥å…·ä¹Ÿæ˜¯æ¡†æ¶çš„ä¸€éƒ¨åˆ†ã€‚** é€šè¿‡çº¦å®šã€è‡ªåŠ¨ç”Ÿæˆå’Œè§£æä»£ç ç­‰æ–¹å¼æ¥è¾…åŠ©å¼€å‘ï¼Œå‡å°‘å¼€å‘è€…è¦å†™çš„ä»£ç é‡ã€‚next.js å¦‚æ­¤ï¼Œumi ä¹Ÿå¦‚æ­¤ï¼Œ[Compilers are the New Frameworks](https://tomdale.net/2017/09/compilers-are-the-new-frameworks/) ã€‚

&nbsp;

**ä¸‰ã€**

é‚£ä¹ˆï¼Œä¸ºå•¥è¦æŠŠè·¯ç”±å±‚åšè¿›å»ï¼Ÿ

è·¯ç”±å³é¡µé¢ï¼Œè€Œé¡µé¢æ˜¯æ„æˆåº”ç”¨çš„å•ä½ã€‚æ¥ç®¡äº†è·¯ç”±å±‚ï¼Œæ„å‘³ç€æ›´å¤šçš„å¯èƒ½æ€§ï¼Œå¯ä»¥ç®¡æ§æ¯ä¸ªé¡µé¢çš„ç”Ÿæˆã€åˆ‡æ¢ã€é”€æ¯ç­‰ã€‚æ¡†æ¶èƒ½åšçš„äº‹æƒ…å¤šäº†ï¼Œæ‰æ›´æœ‰å­˜åœ¨çš„æ„ä¹‰ã€‚

æ¯”å¦‚ï¼š

* ä¸€é”®åˆ‡æ¢å•é¡µå¤šé¡µ
* è¿è¡Œæ—¶æŒ‰éœ€åŠ è½½
* å¼€å‘æ—¶æŒ‰éœ€ç¼–è¯‘
* é™æ€ HTML çš„ç”Ÿæˆ
* ...

&nbsp;

**å››ã€**

æ‰€ä»¥ï¼Œumi æœ‰å•¥ï¼Ÿæˆ‘ä¸ºä»€ä¹ˆè¦ç”¨ï¼Ÿ

ç®€å•æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹ 4 ç‚¹ï¼š

* ğŸ—ƒ å¼€ç®±å³ç”¨
* ğŸš€ æå¿«
* âš”ï¸ å¤šç«¯
* ğŸ˜Š å¼€å‘å‹å¥½

ï¼ˆæ²¡äº†ï¼ŸğŸƒğŸƒğŸƒ å…ˆåˆ«èµ°ï¼Œå¬æˆ‘ç»†ç»†é“æ¥ã€‚ã€‚ï¼‰

&nbsp;

**äº”ã€**

å¼€ç®±å³ç”¨ï¼Ÿé‚£ä¹ˆç®±å­é‡Œæœ‰å•¥ï¼Ÿ

æˆ‘ä»¬æ¥å¯¹æ¯”ä¸‹ï¼Œä»¥ roadhog åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ä¸ºä¾‹ã€‚

roadhogï¼š

1. å®‰è£…æ„å»ºå·¥å…·ä¾èµ– roadhog
1. å®‰è£…ç±»åº“ä¾èµ–ï¼Œæœ‰ antd/antd-mobileã€react + react-dom (æˆ–è€… preact + preact-compat) ä¾èµ–
1. å¦‚æœæ˜¯ preact é¡¹ç›®ï¼Œéœ€è¦é… alias
1. å¦‚æœéœ€è¦è·¯ç”±ï¼Œè¿˜éœ€è¦å®‰è£… react-router
1. å®‰è£… babel æ’ä»¶ babel-plugin-importï¼Œå¹¶æŒ‰æ–‡æ¡£é…ç½®ï¼Œä½†å¯èƒ½é…å‡ºé”™ï¼ˆæ­¤å—å’¨è¯¢éå¸¸å¤šï¼‰
1. é…ç½® webpack entryï¼Œæ‰“åŒ…å¤šé¡µ

umi:

1. å®‰è£…ä¾èµ– umi

**åªéœ€ä¸€æ­¥ï¼Œå‰©ä¸‹çš„éƒ½ä¸ç”¨åšï¼Œå› ä¸ºåœ¨ umi è¿™ä¸ªç®±å­é‡Œäº†ã€‚** ä¸è¿‡å¾ˆå¤šä¸œè¥¿è™½ç„¶å·²ç»åœ¨äº†ï¼Œä½†ä»ä¿ç•™è®©ç”¨æˆ·é€‰æ‹©çš„æƒåˆ©ï¼Œæ¯”å¦‚é€‰æ‹© preact è¿˜æ˜¯ reactï¼Œæ¯”å¦‚ antd(-mobile) çš„ç‰ˆæœ¬ï¼Œeslint è§„åˆ™å¯è¦†ç›–å¯ merge ç­‰ç­‰ã€‚

&nbsp;

**å…­ã€**

umi åœ¨æ€§èƒ½ä¸Šåšäº†å¾ˆå¤šåŠªåŠ›ï¼Œè¿™äº›å¯¹äºå¼€å‘è€…æ˜¯æ— æ„ŸçŸ¥çš„ã€‚**â€œä½ åªç®¡å†™ä¸šåŠ¡ä»£ç ï¼Œæˆ‘ä¼šè´Ÿè´£æ€§èƒ½â€ï¼Œå¹¶ä¸”éšç€ umi çš„è¿­ä»£ï¼Œæˆ‘ä¿è¯ä½ çš„åº”ç”¨ä¼šè¶Šæ¥è¶Šå¿«ã€‚**

ä¸»è¦æœ‰ï¼š

* PWA Support
* Tree Shake
* antd(-mobile) å¯ç”¨ ES Module
* Scope Hoist
* å…¬å…±æ–‡ä»¶çš„æ™ºèƒ½æå–
* é¡µé¢çº§çš„æŒ‰éœ€åŠ è½½
* Inline Critical CSS
* æä¾› `umi/dynamic` å’Œ `import()` è¯­æ³•ï¼Œåˆ†åˆ«ç”¨äºæ‡’åŠ è½½ç»„ä»¶å’Œæ¨¡å—
* ä¼˜åŒ–çš„ [babel-preset-umi](https://github.com/umijs/umi/tree/master/packages/babel-preset-umi)
* é™æ€åŒ–çš„ SSR å¤„ç†
* link rel=preload
* hash æ„å»ºåŠæœåŠ¡ç«¯æ”¯æŒï¼ˆäº‘å‡¤è¶ï¼‰
* é€šè¿‡ react-constant-elements å’Œ react-inline-elements æå‡ rerender æ€§èƒ½
* ä¸€é”®åˆ‡æ¢åˆ° preact
* Progressive image loading
* æŒ‰éœ€æ‰“åŒ… umi å†…ç½®çš„è·¯ç”±ä»£ç 
* ...

ä¼˜åŒ–ç‚¹å¾ˆå¤šï¼Œæœ‰äº›å…³ä¹å°ºå¯¸ï¼Œæœ‰äº›å…³ä¹æ‰§è¡Œæ•ˆç‡ï¼Œæœ‰äº›å…³ä¹é¦–å±æ—¶é—´ï¼Œæœ‰äº›å…³ä¹ç”¨æˆ·ä½“éªŒï¼Œç»†èŠçš„è¯ï¼Œèƒ½è¯´ä¸Šå‡ ä¸ªå°æ—¶ã€‚å¤§å®¶æ ¹æ®å…³é”®å­—åº”è¯¥èƒ½çŒœä¸ªå¤§æ¦‚ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚

&nbsp;

**ä¸ƒã€**

umi å°±æ˜¯ä¸ºå¤šç«¯è€Œç”Ÿçš„ï¼Œè¿™é‡Œçš„å¤šç«¯æŒ‡çš„æ˜¯ web + å„ç§å®¹å™¨ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬éœ€è¦åŒæ—¶æŠŠä»£ç éƒ¨ç½²åˆ°æ”¯ä»˜å®é’±åŒ…çš„ç¦»çº¿åŒ…å’Œåœ¨çº¿æœåŠ¡å™¨ã€‚

å› ä¸º umi çš„äº§ç‰©æ˜¯å•é¡µåº”ç”¨ï¼ŒåŒæ—¶å•ç‹¬è®¿é—®æ¯ä¸ªé¡µé¢åˆéƒ½æœ‰æ•ˆï¼Œæ‰€ä»¥å¯ä»¥åœ¨å®¹å™¨æ¨¡å¼é‡Œé€šè¿‡ ap è¿›è¡Œè·³è½¬ï¼Œåœ¨çº¿æ¨¡å¼ä¸‹åˆé€šè¿‡è·¯ç”±è·³è½¬ã€‚

&nbsp;

**å…«ã€**

umi åœ¨å¼€å‘ä½“éªŒä¸Šä¹Ÿç®—å¾—ä¸Šæ˜¯å‘•å¿ƒæ²¥è¡€äº†ã€‚

é¦–å…ˆï¼Œå€ŸåŠ© create-react-app çš„å¼€æºåº“ï¼Œä»–çš„ä½“éªŒæ˜¯æˆ‘ä»¬çš„åº•çº¿ã€‚åƒæ˜¯ redbox æ˜¾ç¤ºå‡ºé”™ä¿¡æ¯ã€HMRã€å‡ºé”™ç‚¹å‡»åè·³è½¬åˆ° IDEã€ESLint å‡ºé”™æç¤ºç­‰ç­‰ã€‚

æ­¤å¤–ï¼Œumi è¿˜åšäº†æ›´å¤šï¼š

* æŒ‰éœ€ç¼–è¯‘ï¼ˆå°±ç®—ä½ æœ‰ 100 ä¸ªé¡µé¢ï¼Œå¯åŠ¨ä¹Ÿåªéœ€ 5 ç§’ï¼‰
* æ‰€æœ‰çš„é…ç½®éƒ½èƒ½è‡ªåŠ¨ç”Ÿæ•ˆï¼ˆçƒ­æ›´æ–°æˆ–è‡ªé‡å¯ï¼‰
* åŠ¨æ€æ”¹ antd(-mobile) ä¸»é¢˜
* dev server æ–­çº¿é‡è¿
* é…ç½®é¡¹æ ¡éªŒå’Œæé†’ï¼ˆåŒæ—¶å‡ºç°åœ¨æµè§ˆå™¨å’Œæ§åˆ¶å°é‡Œï¼‰
* é…ç½®æ–‡ä»¶è¯­æ³•é”™è¯¯æç¤ºåˆ°è¡Œ
* TypeScript æ”¯æŒï¼ˆè¯­æ³•æç¤ºã€TSLintï¼Œè¿æµ‹è¯•ç”¨ä¾‹ä¹Ÿæ”¯æŒç”¨ ts å†™ï¼‰
* ...

&nbsp;

**ä¹ã€**

ä»€ä¹ˆæ ·çš„é¡¹ç›®é€‚åˆç”¨ umi ï¼Ÿ

umi æ˜¯é€šç”¨æ–¹æ¡ˆï¼Œæˆ‘èƒ½è¯´ä»€ä¹ˆç±»å‹çš„éƒ½é€‚ç”¨å—ï¼ŸğŸ˜† å¥½å§ï¼Œæˆ‘è¯´è¯´ä»€ä¹ˆé¡¹ç›®ä¸é€‚ç”¨å§ã€‚

* é React é¡¹ç›®
* è·¯ç”±åŠå…¶å¤æ‚ï¼Œä¸èƒ½é€šè¿‡ç›®å½•è·¯ç”±çº¦å®šå®ç°çš„ï¼ˆåç»­ä¼šè€ƒè™‘é…ç½®ç±»å‹çš„è·¯ç”±ï¼‰
* ä¸åœ¨ä¹äº§å‡ºç‰©æ€§èƒ½çš„
* ä¸å…³æ³¨å¼€å‘ä½“éªŒçš„
* ...

&nbsp;

**åã€**

æœ‰ç‚¹å¿ƒåŠ¨äº†ï¼Œæˆ‘è¯¥å¦‚ä½•å¼€å§‹ Getting Started å‘¢ï¼Ÿ

å…ˆå®‰è£… `@ali/umi`ã€‚

```bash
$ tnpm i @ali/umi -g

# æ£€æŸ¥ç‰ˆæœ¬å·
$ umi -v
@ali/umi@0.12.0
umi@1.0.0-beta.9
```

ç„¶åæ–°å»ºç›®å½•å¹¶è¿›å…¥ã€‚

```bash
$ mkdir myapp
$ cd myapp
```

å¯åŠ¨ umi çš„  dev æœåŠ¡å™¨ã€‚

```bash
$ umi dev
```

æ–°å¼€ä¸ª terminalï¼Œåœ¨ pages ç›®å½•ä¸‹æ–°å»º page component ã€‚

```bash
$ echo 'export default () => <div>Index Page</div>' > pages/index.js
```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ [http://localhost:8000/](http://localhost:8000/)ï¼Œä½ ä¼šçœ‹åˆ° `Index Page` ã€‚

ç®€å•å§ï¼

---

æœ€åï¼Œumi@1.0 å°†äº 1 æœˆä»½æ­£å¼å‘å¸ƒï¼Œæ•¬è¯·å…³æ³¨ã€‚

---

ç›¸å…³é“¾æ¥ï¼š

* [umi å†…æ ¸ï¼Œ@github](https://github.com/umijs/umi)
* [æ–‡æ¡£](https://umijs.org)
* [umi + dva](https://github.com/umijs/umi/tree/master/examples/with-dva)

ï¼ˆå®Œï¼‰
